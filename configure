# /bin/bash
pushd kernel/src/config
segname=None
while read -r line
do
if [ ${line:0:1} == "[" ]
then
    segname=${line:1:$((${#line} - 2))}
else
    name=$(echo $line | cut -f1 -d'=' | xargs)
    value=$(echo $line | cut -f2 -d'=' | xargs)
    echo "pub const ${name}:usize = $value;"
fi
done < limit.toml > mod.rs
popd
